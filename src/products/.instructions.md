---
applyTo: 'src/products/**'
---

# Products Module Instructions

## Business Rules
- Product prices must be positive numbers
- Use `ProductStatus` enum (AVAILABLE, OUT_OF_STOCK, DISCONTINUED)
- Always include category relationship when creating products
- Validate image URLs before saving

## Coding Standards
- Use TypeORM relations: `@ManyToOne` for category
- DTOs must use class-validator decorators
- Service methods: `findAll()`, `findOne()`, `create()`, `update()`, `remove()`
- Controller routes: Follow RESTful conventions

## Error Handling
- Throw `NotFoundException` when product not found
- Throw `BadRequestException` for invalid data
- Use custom error messages in Vietnamese

## Query Optimization
- Always use `relations` option when fetching products with categories
- Implement pagination for `findAll()` endpoints
